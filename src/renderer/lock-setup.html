<!--
  WhatsApp Dual - PIN Setup Screen

  Author: 686f6c61
  License: MIT
  Repository: https://github.com/686f6c61/whatsapp-dual

  This screen is shown when the user sets up a PIN for the first time
  or when changing their PIN. Requires entering the PIN twice for confirmation.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'">
  <title>WhatsApp Dual - Setup PIN</title>
  <link rel="stylesheet" href="styles/lock.css">
</head>
<body>
  <div class="lock-container">
    <!-- Lock Icon -->
    <div class="lock-icon setup">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
        <circle cx="12" cy="16" r="1"></circle>
      </svg>
    </div>

    <!-- Step Indicator -->
    <div class="step-indicator">
      <div class="step active" data-step="1">1</div>
      <div class="step-line"></div>
      <div class="step" data-step="2">2</div>
    </div>

    <!-- App Title -->
    <h1 class="lock-title" data-i18n="setup.title">Set Up PIN</h1>
    <p id="setup-subtitle" class="lock-subtitle" data-i18n="setup.enterNew">Enter a new PIN (4-8 digits)</p>

    <!-- PIN Input -->
    <div class="pin-container">
      <div class="pin-dots">
        <div class="pin-dot" data-index="0"></div>
        <div class="pin-dot" data-index="1"></div>
        <div class="pin-dot" data-index="2"></div>
        <div class="pin-dot" data-index="3"></div>
        <div class="pin-dot" data-index="4"></div>
        <div class="pin-dot" data-index="5"></div>
        <div class="pin-dot" data-index="6"></div>
        <div class="pin-dot" data-index="7"></div>
      </div>
      <input type="password" id="pin-input" maxlength="8" inputmode="numeric" pattern="[0-9]*" autocomplete="off">
    </div>

    <!-- Status Message -->
    <div id="status-message" class="status-message"></div>

    <!-- PIN Requirements -->
    <div class="pin-requirements">
      <div class="requirement" id="req-length">
        <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span data-i18n="setup.reqLength">4-8 digits</span>
      </div>
      <div class="requirement" id="req-numbers">
        <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span data-i18n="setup.reqNumbers">Numbers only</span>
      </div>
    </div>

    <!-- Numpad -->
    <div class="numpad">
      <button class="numpad-btn" data-num="1">1</button>
      <button class="numpad-btn" data-num="2">2</button>
      <button class="numpad-btn" data-num="3">3</button>
      <button class="numpad-btn" data-num="4">4</button>
      <button class="numpad-btn" data-num="5">5</button>
      <button class="numpad-btn" data-num="6">6</button>
      <button class="numpad-btn" data-num="7">7</button>
      <button class="numpad-btn" data-num="8">8</button>
      <button class="numpad-btn" data-num="9">9</button>
      <button class="numpad-btn numpad-clear" data-action="clear">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path>
          <line x1="18" y1="9" x2="12" y2="15"></line>
          <line x1="12" y1="9" x2="18" y2="15"></line>
        </svg>
      </button>
      <button class="numpad-btn" data-num="0">0</button>
      <button class="numpad-btn numpad-submit" data-action="submit" disabled>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>

    <!-- Skip/Cancel Button -->
    <div class="setup-actions">
      <button id="btn-skip" class="link-button" data-i18n="setup.skip">Skip for now</button>
    </div>
  </div>

  <script src="js/lock-setup.js"></script>
</body>
</html>
