<!--
  WhatsApp Dual - Lock Screen

  Author: 686f6c61
  License: MIT
  Repository: https://github.com/686f6c61/whatsapp-dual

  This is the lock screen displayed when the app requires PIN authentication.
  Shows a PIN input with visual feedback for attempts and lockout status.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'">
  <title>WhatsApp Dual - Locked</title>
  <link rel="stylesheet" href="styles/lock.css">
</head>
<body>
  <div class="lock-container">
    <!-- Lock Icon -->
    <div class="lock-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
      </svg>
    </div>

    <!-- App Title -->
    <h1 class="lock-title">WhatsApp Dual</h1>
    <p class="lock-subtitle" data-i18n="lock.enterPin">Enter your PIN</p>

    <!-- PIN Input -->
    <div class="pin-container">
      <div class="pin-dots">
        <div class="pin-dot" data-index="0"></div>
        <div class="pin-dot" data-index="1"></div>
        <div class="pin-dot" data-index="2"></div>
        <div class="pin-dot" data-index="3"></div>
        <div class="pin-dot" data-index="4"></div>
        <div class="pin-dot" data-index="5"></div>
      </div>
      <input type="password" id="pin-input" maxlength="8" inputmode="numeric" pattern="[0-9]*" autocomplete="off">
    </div>

    <!-- Status Message -->
    <div id="status-message" class="status-message"></div>

    <!-- Attempts Remaining -->
    <div id="attempts-info" class="attempts-info"></div>

    <!-- Lockout Timer -->
    <div id="lockout-timer" class="lockout-timer hidden">
      <span data-i18n="lock.lockedOut">Locked out</span>
      <span id="lockout-countdown"></span>
    </div>

    <!-- Numpad -->
    <div class="numpad">
      <button class="numpad-btn" data-num="1">1</button>
      <button class="numpad-btn" data-num="2">2</button>
      <button class="numpad-btn" data-num="3">3</button>
      <button class="numpad-btn" data-num="4">4</button>
      <button class="numpad-btn" data-num="5">5</button>
      <button class="numpad-btn" data-num="6">6</button>
      <button class="numpad-btn" data-num="7">7</button>
      <button class="numpad-btn" data-num="8">8</button>
      <button class="numpad-btn" data-num="9">9</button>
      <button class="numpad-btn numpad-clear" data-action="clear">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path>
          <line x1="18" y1="9" x2="12" y2="15"></line>
          <line x1="12" y1="9" x2="18" y2="15"></line>
        </svg>
      </button>
      <button class="numpad-btn" data-num="0">0</button>
      <button class="numpad-btn numpad-submit" data-action="submit">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 10 4 15 9 20"></polyline>
          <path d="M20 4v7a4 4 0 0 1-4 4H4"></path>
        </svg>
      </button>
    </div>

    <!-- Forgot PIN Link -->
    <div class="forgot-pin">
      <button id="btn-forgot-pin" class="link-button" data-i18n="lock.forgotPin">Forgot PIN?</button>
    </div>
  </div>

  <!-- Reset Confirmation Modal -->
  <div id="reset-modal" class="modal hidden">
    <div class="modal-content">
      <h2 data-i18n="lock.resetTitle">Reset App</h2>
      <p data-i18n="lock.resetWarning">This will delete all WhatsApp sessions. You will need to scan QR codes again.</p>
      <div class="modal-buttons">
        <button id="btn-cancel-reset" class="btn btn-secondary" data-i18n="lock.cancel">Cancel</button>
        <button id="btn-confirm-reset" class="btn btn-danger" data-i18n="lock.resetConfirm">Reset Everything</button>
      </div>
    </div>
  </div>

  <script src="js/lock.js"></script>
</body>
</html>
